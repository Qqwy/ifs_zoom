<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Lib.Sort</title><link href="ocean.css" rel="stylesheet" type="text/css" title="Ocean" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><ul class="links" id="page-menu"><li><a href="src/Lib.Sort.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul><p class="caption">IFSZoom-0.1.0.0</p></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>[2020] Wiebe-Marten Wijnja</td></tr><tr><th>License</th><td>BSD3</td></tr><tr><th>Maintainer</th><td>Wiebe-Marten Wijnja &lt;w-m@wmcode.nl&gt;</td></tr><tr><th>Stability</th><td>experimental</td></tr><tr><th>Portability</th><td>non-portable (GHC extensions)</td></tr><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">Lib.Sort</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>This module deals with the sorting of data in parallel on the GPU.</p><p>The main entrypoint is <code><a href="Lib-Sort.html#v:sortPoints" title="Lib.Sort">sortPoints</a></code>.
The other exposed functions are building blocks of that one.
They are exposed to be easily testable themselves.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:sortPoints">sortPoints</a> :: <a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Acc" title="Data.Array.Accelerate">Acc</a> (<a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Vector" title="Data.Array.Accelerate">Vector</a> (<a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Float" title="Data.Array.Accelerate">Float</a>, <a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Float" title="Data.Array.Accelerate">Float</a>)) -&gt; <a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Acc" title="Data.Array.Accelerate">Acc</a> (<a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Vector" title="Data.Array.Accelerate">Vector</a> (<a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Float" title="Data.Array.Accelerate">Float</a>, <a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Float" title="Data.Array.Accelerate">Float</a>))</li><li class="src short"><a href="#v:radixSort">radixSort</a> :: <a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Acc" title="Data.Array.Accelerate">Acc</a> (<a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Vector" title="Data.Array.Accelerate">Vector</a> <a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Word64" title="Data.Array.Accelerate">Word64</a>) -&gt; <a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Acc" title="Data.Array.Accelerate">Acc</a> (<a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Vector" title="Data.Array.Accelerate">Vector</a> <a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Word64" title="Data.Array.Accelerate">Word64</a>)</li><li class="src short"><a href="#v:radixSortBit">radixSortBit</a> :: <a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Int" title="Data.Array.Accelerate">Int</a> -&gt; <a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Acc" title="Data.Array.Accelerate">Acc</a> (<a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Vector" title="Data.Array.Accelerate">Vector</a> <a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Word64" title="Data.Array.Accelerate">Word64</a>) -&gt; <a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Acc" title="Data.Array.Accelerate">Acc</a> (<a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Vector" title="Data.Array.Accelerate">Vector</a> <a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Word64" title="Data.Array.Accelerate">Word64</a>)</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><a id="v:sortPoints" class="def">sortPoints</a> :: <a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Acc" title="Data.Array.Accelerate">Acc</a> (<a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Vector" title="Data.Array.Accelerate">Vector</a> (<a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Float" title="Data.Array.Accelerate">Float</a>, <a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Float" title="Data.Array.Accelerate">Float</a>)) -&gt; <a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Acc" title="Data.Array.Accelerate">Acc</a> (<a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Vector" title="Data.Array.Accelerate">Vector</a> (<a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Float" title="Data.Array.Accelerate">Float</a>, <a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Float" title="Data.Array.Accelerate">Float</a>)) <a href="src/Lib.Sort.html#sortPoints" class="link">Source</a> <a href="#v:sortPoints" class="selflink">#</a></p><div class="doc"><p>Sorts an array of points by the Z-order curve (AKA morton code)</p><p>This is done by transforming the pair of 32-bit floats to 32-bit unsigned int,
 and combining them to get one unsigned 64-bit int.
 After sorting, this transformation is reversed.</p></div></div><div class="top"><p class="src"><a id="v:radixSort" class="def">radixSort</a> :: <a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Acc" title="Data.Array.Accelerate">Acc</a> (<a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Vector" title="Data.Array.Accelerate">Vector</a> <a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Word64" title="Data.Array.Accelerate">Word64</a>) -&gt; <a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Acc" title="Data.Array.Accelerate">Acc</a> (<a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Vector" title="Data.Array.Accelerate">Vector</a> <a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Word64" title="Data.Array.Accelerate">Word64</a>) <a href="src/Lib.Sort.html#radixSort" class="link">Source</a> <a href="#v:radixSort" class="selflink">#</a></p><div class="doc"><p>A full parallel Radix Sort</p><p>## Implementation notes:</p><p>This implementation uses 64 unrolled implementations of <code><a href="Lib-Sort.html#v:radixSortBit" title="Lib.Sort">radixSortBit</a></code>,
 one for each bit in a 64-bit number.</p><p>The nice thing about using Accelerate
 is that we can manipulate the AST creation using techniques like this one
 where we can create an unrolled version of something that would be horrible to write by hand.</p><p>## Examples</p><pre class="screen"><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>import qualified Data.Array.Accelerate.LLVM.Native as CPU
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>arr = use $ fromList (Z :. 10) ([10, 9..]) :: Acc (Vector Word64)
</code></strong><code class="prompt">&gt;&gt;&gt; </code><strong class="userinput"><code>CPU.run $ Lib.Sort.radixSort arr
</code></strong>Vector (Z :. 10) [1,2,3,4,5,6,7,8,9,10]
</pre></div></div><div class="top"><p class="src"><a id="v:radixSortBit" class="def">radixSortBit</a> :: <a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Int" title="Data.Array.Accelerate">Int</a> -&gt; <a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Acc" title="Data.Array.Accelerate">Acc</a> (<a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Vector" title="Data.Array.Accelerate">Vector</a> <a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Word64" title="Data.Array.Accelerate">Word64</a>) -&gt; <a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Acc" title="Data.Array.Accelerate">Acc</a> (<a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Vector" title="Data.Array.Accelerate">Vector</a> <a href="../accelerate-1.2.0.1/Data-Array-Accelerate.html#t:Word64" title="Data.Array.Accelerate">Word64</a>) <a href="src/Lib.Sort.html#radixSortBit" class="link">Source</a> <a href="#v:radixSortBit" class="selflink">#</a></p><div class="doc"><p>One step of parallel radix sort, for a single bit.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.22.0</p></div></body></html>